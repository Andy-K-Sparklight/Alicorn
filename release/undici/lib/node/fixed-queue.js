"use strict";const kSize=2048,kMask=2047;class FixedCircularBuffer{constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(t){this.list[this.top]=t,this.top=this.top+1&2047}shift(){const t=this.list[this.bottom];return void 0===t?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,t)}}module.exports=class{constructor(){this.head=this.tail=new FixedCircularBuffer}isEmpty(){return this.head.isEmpty()}push(t){this.head.isFull()&&(this.head=this.head.next=new FixedCircularBuffer),this.head.push(t)}shift(){const t=this.tail,s=t.shift();return t.isEmpty()&&null!==t.next&&(this.tail=t.next),s}};